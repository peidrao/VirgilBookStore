<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrinho - Livraria Premium</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
  
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4">
      <div class="flex items-center justify-between gap-4">
        <a href="index.html" class="text-2xl font-bold text-amber-800 hover:text-amber-900 transition-colors">
          üìö Livraria Premium
        </a>
        <div class="hidden md:flex flex-1 max-w-2xl">
          <div class="relative w-full">
            <input type="search" placeholder="Buscar livros, autores, ISBN..." class="w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent" aria-label="Buscar livros">
            <button class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-amber-700" aria-label="Buscar">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </button>
          </div>
        </div>
        <nav class="hidden lg:flex items-center gap-6">
          <a href="books.html" class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Categorias</a>
          <a href="books.html?filter=ofertas" class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Ofertas</a>
          <a href="books.html?filter=novidades" class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Novidades</a>
          <a href="#" class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Ajuda</a>
        </nav>
        <a href="cart.html" class="relative p-2 hover:bg-gray-100 rounded-lg transition-colors" aria-label="Carrinho de compras">
          <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
          <span id="cart-badge" class="absolute -top-1 -right-1 bg-amber-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">3</span>
        </a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8">
    
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Seu Carrinho</h1>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      
      <!-- Cart Items -->
      <div class="lg:col-span-2 space-y-4">
        
        <!-- Item 1 -->
        <article class="bg-white rounded-lg shadow-md p-4 md:p-6" data-item-id="1" data-price="89.90">
          <div class="flex gap-4">
            <a href="book.html?id=1" class="flex-shrink-0">
              <img src="https://picsum.photos/seed/book1/300/400" alt="O Senhor dos An√©is" class="w-20 md:w-24 rounded-lg">
            </a>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start mb-2">
                <div class="flex-1">
                  <a href="book.html?id=1" class="font-semibold text-gray-900 hover:text-amber-700 mb-1 block">O Senhor dos An√©is</a>
                  <p class="text-sm text-gray-600 mb-1">J.R.R. Tolkien</p>
                  <p class="text-xs text-gray-500">Formato: F√≠sico</p>
                </div>
                <button class="remove-btn p-2 text-gray-400 hover:text-red-600 transition-colors ml-2" aria-label="Remover item">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
              <div class="flex items-center justify-between mt-4">
                <div class="flex items-center gap-2">
                  <button class="qty-minus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors" aria-label="Diminuir quantidade">‚àí</button>
                  <input type="number" value="1" min="1" max="10" class="qty-input w-16 text-center px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-amber-500" aria-label="Quantidade">
                  <button class="qty-plus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors" aria-label="Aumentar quantidade">+</button>
                </div>
                <div class="text-right">
                  <div class="item-price text-lg font-bold text-amber-700">R$ 89,90</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Item 2 -->
        <article class="bg-white rounded-lg shadow-md p-4 md:p-6" data-item-id="2" data-price="54.90">
          <div class="flex gap-4">
            <a href="book.html?id=2" class="flex-shrink-0">
              <img src="https://picsum.photos/seed/book2/300/400" alt="1984" class="w-20 md:w-24 rounded-lg">
            </a>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start mb-2">
                <div class="flex-1">
                  <a href="book.html?id=2" class="font-semibold text-gray-900 hover:text-amber-700 mb-1 block">1984</a>
                  <p class="text-sm text-gray-600 mb-1">George Orwell</p>
                  <p class="text-xs text-gray-500">Formato: E-book</p>
                </div>
                <button class="remove-btn p-2 text-gray-400 hover:text-red-600 transition-colors ml-2" aria-label="Remover item">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
              <div class="flex items-center justify-between mt-4">
                <div class="flex items-center gap-2">
                  <button class="qty-minus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors" aria-label="Diminuir quantidade">‚àí</button>
                  <input type="number" value="1" min="1" max="10" class="qty-input w-16 text-center px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-amber-500" aria-label="Quantidade">
                  <button class="qty-plus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors" aria-label="Aumentar quantidade">+</button>
                </div>
                <div class="text-right">
                  <div class="item-price text-lg font-bold text-amber-700">R$ 54,90</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Item 3 -->
        <article class="bg-white rounded-lg shadow-md p-4 md:p-6" data-item-id="3" data-price="49.90">
          <div class="flex gap-4">
            <a href="book.html?id=3" class="flex-shrink-0">
              <img src="https://picsum.photos/seed/book3/300/400" alt="Harry Potter" class="w-20 md:w-24 rounded-lg">
            </a>
            <div class="flex-1 min-w-0">
              <div class="flex justify-between items-start mb-2">
                <div class="flex-1">
                  <a href="book.html?id=3" class="font-semibold text-gray-900 hover:text-amber-700 mb-1 block">Harry Potter e a Pedra Filosofal</a>
                  <p class="text-sm text-gray-600 mb-1">J.K. Rowling</p>
                  <p class="text-xs text-gray-500">Formato: F√≠sico</p>
                </div>
                <button class="remove-btn p-2 text-gray-400 hover:text-red-600 transition-colors ml-2" aria-label="Remover item">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
              <div class="flex items-center justify-between mt-4">
                <div class="flex items-center gap-2">
                  <button class="qty-minus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors" aria-label="Diminuir quantidade">‚àí</button>
                  <input type="number" value="2" min="1" max="10" class="qty-input w-16 text-center px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-amber-500" aria-label="Quantidade">
                  <button class="qty-plus w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors" aria-label="Aumentar quantidade">+</button>
                </div>
                <div class="text-right">
                  <div class="item-price text-lg font-bold text-amber-700">R$ 99,80</div>
                </div>
              </div>
            </div>
          </div>
        </article>

        <!-- Continue Shopping -->
        <div class="pt-4">
          <a href="books.html" class="inline-flex items-center gap-2 text-amber-700 hover:text-amber-800 font-medium">
            ‚Üê Continuar Comprando
          </a>
        </div>

      </div>

      <!-- Order Summary -->
      <div class="lg:col-span-1">
        <div class="bg-white rounded-lg shadow-md p-6 sticky top-24">
          <h2 class="text-xl font-bold text-gray-900 mb-4">Resumo do Pedido</h2>
          
          <div class="space-y-3 mb-6">
            <div class="flex justify-between text-gray-700">
              <span>Subtotal (<span id="item-count">4</span> itens)</span>
              <span id="subtotal">R$ 244,60</span>
            </div>
            <div class="flex justify-between text-gray-700">
              <span>Desconto</span>
              <span id="discount" class="text-green-600">-R$ 0,00</span>
            </div>
            <div class="flex justify-between text-gray-700">
              <span>Frete</span>
              <span id="shipping">R$ 15,90</span>
            </div>
            <div class="border-t pt-3 flex justify-between text-lg font-bold text-gray-900">
              <span>Total</span>
              <span id="total" class="text-amber-700">R$ 260,50</span>
            </div>
          </div>

          <!-- Coupon -->
          <div class="mb-6">
            <label for="coupon-input" class="block text-sm font-medium text-gray-700 mb-2">Cupom de desconto</label>
            <div class="flex gap-2">
              <input type="text" id="coupon-input" placeholder="Digite o cupom" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm" aria-label="Cupom de desconto">
              <button id="apply-coupon" class="px-4 py-2 bg-gray-700 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors text-sm">
                Aplicar
              </button>
            </div>
            <p id="coupon-message" class="mt-2 text-sm hidden"></p>
          </div>

          <!-- Checkout Button -->
          <a href="checkout.html" class="block w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-colors text-center shadow-lg">
            Ir para Checkout
          </a>

          <!-- Security Info -->
          <div class="mt-6 pt-6 border-t space-y-2 text-sm text-gray-600">
            <p class="flex items-center gap-2">
              <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
              Compra 100% segura
            </p>
            <p class="flex items-center gap-2">
              <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
              Frete gr√°tis acima de R$ 99
            </p>
            <p class="flex items-center gap-2">
              <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
              Devolu√ß√£o gr√°tis em 30 dias
            </p>
          </div>
        </div>
      </div>

    </div>

  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-gray-300 py-12 mt-16">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
        <div>
          <h3 class="text-white font-bold text-lg mb-4">üìö Livraria Premium</h3>
          <p class="text-sm text-gray-400">Sua melhor escolha para encontrar os melhores livros com os melhores pre√ßos.</p>
        </div>
        <div>
          <h4 class="text-white font-semibold mb-4">Navega√ß√£o</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="index.html" class="hover:text-amber-400 transition-colors">Home</a></li>
            <li><a href="books.html" class="hover:text-amber-400 transition-colors">Cat√°logo</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-white font-semibold mb-4">Ajuda</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="#" class="hover:text-amber-400 transition-colors">Central de Ajuda</a></li>
            <li><a href="#" class="hover:text-amber-400 transition-colors">Trocas e Devolu√ß√µes</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-white font-semibold mb-4">Contato</h4>
          <ul class="space-y-2 text-sm">
            <li>üìß contato@livrariapremiumbr</li>
            <li>üì± (11) 9999-9999</li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 pt-8 text-center text-sm">
        <p>&copy; 2025 Livraria Premium. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- TypeScript for cart functionality -->
  <script type="module">
    // Calculate totals from cart items
    function calculateTotals() {
      let subtotal = 0;
      let itemCount = 0;
      
      document.querySelectorAll('article[data-item-id]').forEach(item => {
        const price = parseFloat(item.dataset.price);
        const qty = parseInt(item.querySelector('.qty-input').value);
        subtotal += price * qty;
        itemCount += qty;
      });
      
      // Get current discount
      const discountText = document.getElementById('discount').textContent;
      const discount = parseFloat(discountText.replace('R$', '').replace('-', '').replace(',', '.').trim()) || 0;
      
      const shipping = subtotal >= 99 ? 0 : 15.90;
      const total = subtotal - discount + shipping;
      
      // Update UI
      document.getElementById('subtotal').textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
      document.getElementById('item-count').textContent = itemCount;
      document.getElementById('shipping').textContent = shipping === 0 ? 'GR√ÅTIS' : `R$ ${shipping.toFixed(2).replace('.', ',')}`;
      document.getElementById('total').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
      document.getElementById('cart-badge').textContent = itemCount;
    }
    
    // Update item price when quantity changes
    function updateItemPrice(item) {
      const unitPrice = parseFloat(item.dataset.price);
      const qty = parseInt(item.querySelector('.qty-input').value);
      const totalPrice = unitPrice * qty;
      item.querySelector('.item-price').textContent = `R$ ${totalPrice.toFixed(2).replace('.', ',')}`;
      calculateTotals();
    }
    
    // Quantity controls
    document.querySelectorAll('.qty-minus').forEach(btn => {
      btn.addEventListener('click', () => {
        const item = btn.closest('article[data-item-id]');
        const input = item.querySelector('.qty-input');
        const current = parseInt(input.value);
        if (current > 1) {
          input.value = current - 1;
          updateItemPrice(item);
        }
      });
    });
    
    document.querySelectorAll('.qty-plus').forEach(btn => {
      btn.addEventListener('click', () => {
        const item = btn.closest('article[data-item-id]');
        const input = item.querySelector('.qty-input');
        const current = parseInt(input.value);
        const max = parseInt(input.max);
        if (current < max) {
          input.value = current + 1;
          updateItemPrice(item);
        }
      });
    });
    
    document.querySelectorAll('.qty-input').forEach(input => {
      input.addEventListener('change', () => {
        const item = input.closest('article[data-item-id]');
        updateItemPrice(item);
      });
    });
    
    // Remove item
    document.querySelectorAll('.remove-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        if (confirm('Deseja remover este item do carrinho?')) {
          const item = btn.closest('article[data-item-id]');
          item.remove();
          calculateTotals();
        }
      });
    });
    
    // Coupon application (simulated)
    document.getElementById('apply-coupon')?.addEventListener('click', () => {
      const couponInput = document.getElementById('coupon-input');
      const couponMessage = document.getElementById('coupon-message');
      const discountEl = document.getElementById('discount');
      const coupon = couponInput.value.toUpperCase().trim();
      
      // Simple coupon simulation
      if (coupon === 'LIVROS10') {
        const subtotalText = document.getElementById('subtotal').textContent;
        const subtotal = parseFloat(subtotalText.replace('R$', '').replace(',', '.').trim());
        const discount = subtotal * 0.10;
        
        discountEl.textContent = `-R$ ${discount.toFixed(2).replace('.', ',')}`;
        couponMessage.textContent = '‚úì Cupom aplicado! 10% de desconto';
        couponMessage.classList.remove('hidden', 'text-red-600');
        couponMessage.classList.add('text-green-600');
        calculateTotals();
      } else if (coupon === '') {
        couponMessage.textContent = 'Por favor, digite um cupom';
        couponMessage.classList.remove('hidden', 'text-green-600');
        couponMessage.classList.add('text-red-600');
      } else {
        couponMessage.textContent = 'Cupom inv√°lido';
        couponMessage.classList.remove('hidden', 'text-green-600');
        couponMessage.classList.add('text-red-600');
      }
    });
    
    // Initial calculation
    calculateTotals();
  </script>

</body>
</html>
