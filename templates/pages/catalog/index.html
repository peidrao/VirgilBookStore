{% extends "base.html" %}
{% block title %}Virgil Bookstore - Catalog{% endblock %}
{% block content %}
    <main class="container mx-auto px-4 py-8">

        <!-- Breadcrumb -->
        <nav class="mb-6 text-sm" aria-label="Breadcrumb">
            <ol class="flex items-center gap-2 text-gray-600">
                <li><a href="index.html" class="hover:text-amber-700">Home</a></li>
                <li>›</li>
                <li class="text-gray-900 font-medium">Catalog</li>
            </ol>
        </nav>

        <!-- Title and Controls -->
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 mb-2">All books</h1>
                <p class="text-gray-600">Showing <span id="results-count">{{ books.count }}</span> results</p>
            </div>

            <div class="flex items-center gap-3">
                <!-- Mobile Filter Button -->
                <button id="filter-toggle"
                        class="lg:hidden flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                    </svg>
                    Filtros <span id="filter-badge"
                                  class="hidden bg-amber-600 text-white text-xs font-bold rounded-full px-2 py-0.5">3</span>
                </button>

                <!-- Sort -->
                <div>
                    <label for="sort-select" class="sr-only">Ordenar por</label>
                    <select id="sort-select"
                            class="px-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 cursor-pointer">
                        <option value="relevance">Relevância</option>
                        <option value="price-asc">Preço: menor</option>
                        <option value="price-desc">Preço: maior</option>
                        <option value="rating">Mais bem avaliados</option>
                        <option value="newest">Lançamentos</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="flex gap-6">
            {% include 'pages/catalog/partials/_filter.html' %}
            <div class="flex-1">
                <div class="grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6">

                    {% for book in books %}
                        {% include "pages/catalog/catalog_book.html" with book=book %}
                    {% endfor %}
                </div>

                <!-- Pagination -->
                <nav class="mt-12 flex justify-center" aria-label="Paginação">
                    <ul class="flex items-center gap-2">
                        <li>
                            <button class="px-3 py-2 rounded-md border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"
                                    disabled aria-label="Página anterior">
                                ‹
                            </button>
                        </li>
                        <li>
                            <button class="px-4 py-2 rounded-md bg-amber-700 text-white font-medium">1</button>
                        </li>
                        <li>
                            <button class="px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50">2</button>
                        </li>
                        <li>
                            <button class="px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50">3</button>
                        </li>
                        <li>
                            <button class="px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50">4</button>
                        </li>
                        <li>
                            <button class="px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-50">5</button>
                        </li>
                        <li>
                            <button class="px-3 py-2 rounded-md border border-gray-300 hover:bg-gray-50"
                                    aria-label="Próxima página">
                                ›
                            </button>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>
    </main>

{% endblock %}
