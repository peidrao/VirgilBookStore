{% load static %}

<header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4">
        <div class="flex items-center justify-between gap-4">
            <!-- Logo -->
            <div class="flex items-center gap-2">
                <a href="{% url 'home:catalog' %}"
                   class="text-2xl font-bold text-amber-800 hover:text-amber-900 transition-colors flex items-center gap-2">
                    <img src="{% static 'images/logo/logo.png' %}" alt="Logo" class="w-8 h-8">
                    <span>Virgil BookStore</span>
                </a>
            </div>
            <!-- Search - Desktop -->
            <div class="hidden md:flex flex-1 max-w-2xl">
                <div class="relative w-full">
                    <input
                            type="search"
                            placeholder="Buscar livros, autores, ISBN..."
                            class="w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"
                            aria-label="Buscar livros"
                    >
                    <button class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-amber-700"
                            aria-label="Buscar">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Nav Links -->
            <nav class="hidden lg:flex items-center gap-6">
                <a href="{% url 'home:categories_list' %}"
                   class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Categories</a>
                <a href="/books.html?filter=ofertas"
                   class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Ofertas</a>
                <a href="/books.html?filter=novidades"
                   class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Novidades</a>
                <a href="#" class="text-gray-700 hover:text-amber-700 font-medium transition-colors">Ajuda</a>
            </nav>

            <!-- User Actions -->
            <div class="flex items-center gap-2">
                <div id="authButtons" class="hidden lg:flex items-center gap-2">

                    {% if user.is_authenticated %}
                        <!-- Logged in -->
                        <a id="profileBtn"
                           href="{% url 'user:profile' %}"
                           class="text-gray-700 hover:text-amber-700 font-medium transition-colors px-3 py-2">
                            Meu Perfil
                        </a>
                    {% else %}
                        <!-- Logged out -->
                        <a id="loginBtn"
                           href="{% url 'user:login' %}"
                           class="text-gray-700 hover:text-amber-700 font-medium transition-colors px-3 py-2">
                            Entrar
                        </a>

                        <a id="registerBtn"
                           href="{% url 'user:signup' %}"
                           class="bg-amber-700 hover:bg-amber-800 text-white font-medium px-4 py-2 rounded-lg transition-colors">
                            Criar Conta
                        </a>
                    {% endif %}

                </div>
            </div>


            <!-- Cart -->
            <a href="{% url 'order:shopcart' %}" class="relative p-2 hover:bg-gray-100 rounded-lg transition-colors"
               aria-label="Carrinho de compras">
                <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
                {% include "partials/cart_badge.html" with cart_count=cart_count %}
            </a>
        </div>
    </div>

    <!-- Search - Mobile -->
    <div class="md:hidden mt-3">
        <div class="relative">
            <input
                    type="search"
                    placeholder="Buscar livros..."
                    class="w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"
                    aria-label="Buscar livros"
            >
            <a href="{% url 'order:shopcart' %}" class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-500"
               aria-label="Buscar">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </a>
        </div>
    </div>
    </div>
</header>